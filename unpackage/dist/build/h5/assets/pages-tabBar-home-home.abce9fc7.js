import{i as t,h as e,r as s,o as l,c as o,w as a,a as c,n as i,b as r,d as n,t as d,e as u,f as h,I as f,g as p,j as m,F as _,k as b,l as y,m as g,p as k,s as w,q as x,S as C,u as S,v as B}from"./index-9dc9b683.js";import{r as V,_ as v}from"./uni-app.es.3daf57c0.js";import{_ as I}from"./_plugin-vue_export-helper.1b428a4d.js";import{i as L,a as $}from"./helper.4dff2ea1.js";const j={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:F}=t(j);const T=I({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:"取消"},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||F("uni-search-bar.cancel")},placeholderText(){return this.placeholder||F("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(t){this.searchVal=t,t&&(this.show=!0)}},focus:{immediate:!0,handler(t){if(t){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(t,e){this.$emit("input",t),this.$emit("update:modelValue",t)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.$emit("clear",{value:this.searchVal}),this.searchVal=""},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,e())},confirm(){e(),this.$emit("confirm",{value:this.searchVal})},blur(){e(),this.$emit("blur",{value:this.searchVal})},emitFocus(t){this.$emit("focus",t.detail)}}},[["render",function(t,e,m,_,b,y){const g=V(s("uni-icons"),v),k=h,w=f,x=p;return l(),o(k,{class:"uni-searchbar"},{default:a((()=>[c(k,{style:i({borderRadius:m.radius+"px",backgroundColor:m.bgColor}),class:"uni-searchbar__box",onClick:y.searchClick},{default:a((()=>[c(k,{class:"uni-searchbar__box-icon-search"},{default:a((()=>[r(t.$slots,"searchIcon",{},(()=>[c(g,{color:"#c0c4cc",size:"18",type:"search"})]),!0)])),_:3}),b.show||b.searchVal?(l(),o(w,{key:0,focus:b.showSync,disabled:m.readonly,placeholder:y.placeholderText,maxlength:m.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text",modelValue:b.searchVal,"onUpdate:modelValue":e[0]||(e[0]=t=>b.searchVal=t),onConfirm:y.confirm,onBlur:y.blur,onFocus:y.emitFocus},null,8,["focus","disabled","placeholder","maxlength","modelValue","onConfirm","onBlur","onFocus"])):(l(),o(x,{key:1,class:"uni-searchbar__text-placeholder"},{default:a((()=>[n(d(m.placeholder),1)])),_:1})),b.show&&("always"===m.clearButton||"auto"===m.clearButton&&""!==b.searchVal)&&!m.readonly?(l(),o(k,{key:2,class:"uni-searchbar__box-icon-clear",onClick:y.clear},{default:a((()=>[r(t.$slots,"clearIcon",{},(()=>[c(g,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])),_:3},8,["onClick"])):u("",!0)])),_:3},8,["style","onClick"]),"always"===m.cancelButton||b.show&&"auto"===m.cancelButton?(l(),o(x,{key:0,onClick:y.cancel,class:"uni-searchbar__cancel"},{default:a((()=>[n(d(y.cancelTextI18n),1)])),_:1},8,["onClick"])):u("",!0)])),_:3})}],["__scopeId","data-v-03210105"]]);const N=I({name:"UniSwiperDot",emits:["clickItem"],props:{info:{type:Array,default:()=>[]},current:{type:Number,default:0},dotsStyles:{type:Object,default:()=>({})},mode:{type:String,default:"default"},field:{type:String,default:""}},data:()=>({dots:{width:6,height:6,bottom:10,color:"#fff",backgroundColor:"rgba(0, 0, 0, .3)",border:"1px rgba(0, 0, 0, .3) solid",selectedBackgroundColor:"#333",selectedBorder:"1px rgba(0, 0, 0, .9) solid"}}),watch:{dotsStyles(t){this.dots=Object.assign(this.dots,this.dotsStyles)},mode(t){"indexes"===t?(this.dots.width=14,this.dots.height=14):(this.dots.width=6,this.dots.height=6)}},created(){"indexes"===this.mode&&(this.dots.width=12,this.dots.height=12),this.dots=Object.assign(this.dots,this.dotsStyles)},methods:{clickItem(t){this.$emit("clickItem",t)}}},[["render",function(t,e,s,f,g,k){const w=h,x=p;return l(),o(w,{class:"uni-swiper__warp"},{default:a((()=>[r(t.$slots,"default",{},void 0,!0),"default"===s.mode?(l(),o(w,{style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"default"},{default:a((()=>[(l(!0),m(_,null,b(s.info,((t,e)=>(l(),o(w,{onClick:t=>k.clickItem(e),style:i({width:(e===s.current?2*g.dots.width:g.dots.width)+"px",height:g.dots.width/2+"px","background-color":e!==s.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,"border-radius":"0px"}),key:e,class:"uni-swiper__dots-item uni-swiper__dots-bar"},null,8,["onClick","style"])))),128))])),_:1},8,["style"])):u("",!0),"dot"===s.mode?(l(),o(w,{style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"dot"},{default:a((()=>[(l(!0),m(_,null,b(s.info,((t,e)=>(l(),o(w,{onClick:t=>k.clickItem(e),style:i({width:g.dots.width+"px",height:g.dots.height+"px","background-color":e!==s.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,border:e!==s.current?g.dots.border:g.dots.selectedBorder}),key:e,class:"uni-swiper__dots-item"},null,8,["onClick","style"])))),128))])),_:1},8,["style"])):u("",!0),"round"===s.mode?(l(),o(w,{style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"round"},{default:a((()=>[(l(!0),m(_,null,b(s.info,((t,e)=>(l(),o(w,{onClick:t=>k.clickItem(e),class:y([[e===s.current&&"uni-swiper__dots-long"],"uni-swiper__dots-item"]),style:i({width:(e===s.current?3*g.dots.width:g.dots.width)+"px",height:g.dots.height+"px","background-color":e!==s.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,border:e!==s.current?g.dots.border:g.dots.selectedBorder}),key:e},null,8,["onClick","class","style"])))),128))])),_:1},8,["style"])):u("",!0),"nav"===s.mode?(l(),o(w,{key:"nav",style:i({"background-color":s.dotsStyles.backgroundColor,bottom:"0"}),class:"uni-swiper__dots-box uni-swiper__dots-nav"},{default:a((()=>[c(x,{style:i({color:s.dotsStyles.color}),class:"uni-swiper__dots-nav-item"},{default:a((()=>[n(d(s.current+1+"/"+s.info.length+" "+s.info[s.current][s.field]),1)])),_:1},8,["style"])])),_:1},8,["style"])):u("",!0),"indexes"===s.mode?(l(),o(w,{key:"indexes",style:i({bottom:g.dots.bottom+"px"}),class:"uni-swiper__dots-box"},{default:a((()=>[(l(!0),m(_,null,b(s.info,((t,e)=>(l(),o(w,{onClick:t=>k.clickItem(e),style:i({width:g.dots.width+"px",height:g.dots.height+"px",color:e===s.current?g.dots.selectedColor:g.dots.color,"background-color":e!==s.current?g.dots.backgroundColor:g.dots.selectedBackgroundColor,border:e!==s.current?g.dots.border:g.dots.selectedBorder}),key:e,class:"uni-swiper__dots-item uni-swiper__dots-indexes"},{default:a((()=>[c(x,{class:"uni-swiper__dots-indexes-text"},{default:a((()=>[n(d(e+1),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1},8,["style"])):u("",!0)])),_:3})}],["__scopeId","data-v-77e8f2a6"]]);const z=I({data:()=>({title:"",info:[{url:"https://ele-cat.gitee.io/ks/static/images/swiper_1.png"},{url:"https://ele-cat.gitee.io/ks/static/images/swiper_2.png"},{url:"https://ele-cat.gitee.io/ks/static/images/swiper_3.png"}],current:0,mode:"default",centerList:[],bottomList:[]}),onShow(){g(),this.title=k("title")||"圈子",document.title=this.title,w({title:this.title}),x("title",this.title);const t=k("centerList")||L;x("centerList",t),this.centerList=t;const e=k("bottomList")||$;x("bottomList",e),this.bottomList=e},methods:{change(t){this.current=t.detail.current},handleSub(t,e){let s=Number(this.bottomList[e].left);s-=1,this.bottomList[e].left=s||999,x("bottomList",this.bottomList);let l=k("selectList")||[];if(l.find((e=>e.id==t.id))){let e=l.findIndex((e=>e.id==t.id));l[e].count+=1}else l.push({...t,count:1});x("selectList",l)}}},[["render",function(t,e,i,r,u,f){const y=h,g=p,k=V(s("uni-search-bar"),T),w=V(s("uni-icons"),v),x=B,I=C,L=V(s("uni-swiper-dot"),N);return l(),o(y,null,{default:a((()=>[c(y,{class:"top"},{default:a((()=>[c(y,{class:"top-bg"}),c(y,{class:"search-box"},{default:a((()=>[c(g,{class:"title"},{default:a((()=>[n(d(u.title),1)])),_:1}),c(k,{class:"search-bar",radius:"100",placeholder:"输入任务编号搜索",clearButton:"none",cancelButton:"none"}),c(w,{type:"scan",size:"24",color:"#fff"})])),_:1}),c(L,{info:u.info,current:u.current,field:"content",mode:u.mode},{default:a((()=>[c(I,{class:"swiper-box",interval:3500,autoplay:!0,onChange:f.change},{default:a((()=>[(l(!0),m(_,null,b(u.info,((t,e)=>(l(),o(x,{key:e},{default:a((()=>[c(y,{class:"swiper-item"},{default:a((()=>[S("img",{src:t.url,alt:"",srcset:""},null,8,["src"])])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["onChange"])])),_:1},8,["info","current","mode"])])),_:1}),c(y,{class:"center"},{default:a((()=>[(l(!0),m(_,null,b(u.centerList,((t,e)=>(l(),o(y,{class:"center-box",key:e},{default:a((()=>[S("img",{src:t.img,alt:""},null,8,["src"]),c(y,{class:"title"},{default:a((()=>[n(d(t.title),1)])),_:2},1024),c(y,{class:"type"},{default:a((()=>[n(d(t.type),1)])),_:2},1024),c(y,{class:"price"},{default:a((()=>[n("+"+d(t.price),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),c(y,{class:"bottom"},{default:a((()=>[c(y,{class:"bottom_nav"},{default:a((()=>[c(y,{class:"title"},{default:a((()=>[n("全部任务")])),_:1}),c(y,{class:"nav"},{default:a((()=>[c(g,{class:"active"},{default:a((()=>[n("默认排序")])),_:1}),c(g,null,{default:a((()=>[n("最新发布")])),_:1}),c(g,null,{default:a((()=>[n("佣金最高")])),_:1})])),_:1})])),_:1}),c(y,{class:"bottom-list"},{default:a((()=>[(l(!0),m(_,null,b(u.bottomList,((t,e)=>(l(),o(y,{class:"bottom-item",key:e},{default:a((()=>[c(y,{class:"img"},{default:a((()=>[S("img",{src:t.img,alt:""},null,8,["src"])])),_:2},1024),c(y,{class:"info"},{default:a((()=>[c(y,{class:"title"},{default:a((()=>[c(g,null,{default:a((()=>[n(d(t.title),1)])),_:2},1024),c(g,null,{default:a((()=>[n("+"+d(t.price),1)])),_:2},1024)])),_:2},1024),c(y,{class:"type"},{default:a((()=>[c(g,null,{default:a((()=>[n("ID:"+d(10320+e),1)])),_:2},1024),c(g,null,{default:a((()=>[n(d(t.type),1)])),_:2},1024)])),_:2},1024),c(y,{class:"left"},{default:a((()=>[c(g,null,{default:a((()=>[n("剩余 "+d(t.left)+"/已结 "+d(t.used),1)])),_:2},1024),c(g,{class:"btn",onClick:s=>f.handleSub(t,e)},{default:a((()=>[n("接单")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-8faa2a2c"]]);export{z as default};
